<style>
  @import url('https://fonts.googleapis.com/css2?family=Libre+Baskerville:wght@400;700&display=swap');

  :root{
    --ivory:#FAF9F7; --blush:#EAD4D8; --greige:#C7BEB8; --silver:#C9CCD6; --cta:#D8A7B1;
    --ink:#1f1f1f; --muted:#5d5d5d; --radius:22px;
    --shadow: 0 16px 44px rgba(0,0,0,.10); --shadow-soft: 0 10px 26px rgba(0,0,0,.06);
  }

  html, body{ height:100%; overflow-x:hidden; }

  /* Full-bleed Elementor */
  .cmOB{
    width: 100vw;
    margin-left: calc(50% - 50vw);
    margin-right: calc(50% - 50vw);
  }

  .cmOB{
    min-height: 100vh;
    min-height: 100svh;
    min-height: 100dvh;
    background:
      radial-gradient(1200px 600px at 20% 0%, rgba(234,212,216,.58), transparent 60%),
      radial-gradient(900px 520px at 90% 10%, rgba(201,204,214,.55), transparent 55%),
      var(--ivory);
    color: var(--ink);
    font-family: "Libre Baskerville", Georgia, serif;
    display:grid;
    place-items:center;
    padding: 28px 18px;
  }

  .cmOB-card{
    width:min(760px,100%);
    background: rgba(250,249,247,.85);
    border: 1px solid rgba(31,31,31,.08);
    border-radius: 26px;
    box-shadow: var(--shadow);
    padding: 26px;
  }

  .cmOB-top{
    display:flex; align-items:center; justify-content:space-between; gap: 12px; flex-wrap:wrap;
    margin-bottom: 10px;
  }

  .cmOB-progress{
    display:flex; align-items:center; gap: 10px;
    font-family: ui-sans-serif, system-ui, -apple-system, "Segoe UI", Roboto, Arial;
    color: var(--muted); font-size: 13px;
  }

  .cmOB-bar{
    width: 180px; height: 8px; border-radius: 999px;
    background: rgba(201,204,214,.35);
    overflow:hidden;
    border: 1px solid rgba(31,31,31,.06);
  }
  .cmOB-bar > i{ display:block; width:33%; height:100%; background: rgba(216,167,177,.75); }

  .cmOB h1{ margin: 10px 0 10px; font-size: clamp(26px, 3.6vw, 38px); line-height: 1.08; }

  .cmOB-lead{
    margin:0 0 10px; color: var(--muted);
    font-family: ui-sans-serif, system-ui, -apple-system, "Segoe UI", Roboto, Arial;
    font-size: 15.5px; line-height: 1.85; max-width: 62ch;
  }

  .cmOB-lead strong{ color: rgba(31,31,31,.85); }

  .cmOB-row2{ display:grid; grid-template-columns: 1fr 1fr; gap: 10px; margin-top: 14px; }

  .cmOB label{
    display:block; margin: 0 0 8px;
    color: rgba(0,0,0,.72);
    font-family: ui-sans-serif, system-ui, -apple-system, "Segoe UI", Roboto, Arial;
    font-size: 13px;
  }

  .cmOB input{
    width:100%;
    padding: 14px 14px;
    border-radius: 16px;
    border: 1px solid rgba(31,31,31,.12);
    background: rgba(250,249,247,.92);
    outline:none;
    font-family: ui-sans-serif, system-ui, -apple-system, "Segoe UI", Roboto, Arial;
    font-size: 16px;
  }
  .cmOB input:focus{
    border-color: rgba(216,167,177,.95);
    box-shadow: 0 0 0 4px rgba(216,167,177,.18);
  }

  .cmOB-actions{ display:flex; gap: 10px; flex-wrap:wrap; margin-top: 16px; }

  .cmOB-btn{
    display:inline-flex; align-items:center; justify-content:center; gap: 10px;
    padding: 14px 18px; border-radius: 999px;
    border: 1px solid rgba(31,31,31,.10);
    cursor:pointer; transition: transform .12s ease, opacity .12s ease, box-shadow .12s ease, filter .12s ease;
    font-weight: 650; letter-spacing:.2px; user-select:none; white-space:nowrap;
    font-family: ui-sans-serif, system-ui, -apple-system, "Segoe UI", Roboto, Arial;
  }

  /* ‚úÖ Primary premium (plus pr√©sent) */
  .cmOB-primary{
    width:100%;
    padding:16px 22px;
    background: linear-gradient(180deg, rgba(216,167,177,.98), rgba(234,212,216,.90));
    color: rgba(31,31,31,.92);
    box-shadow: 0 14px 34px rgba(216,167,177,.30), 0 10px 26px rgba(0,0,0,.06);
  }
  .cmOB-primary:hover{
    filter: brightness(1.01);
    box-shadow: 0 18px 44px rgba(216,167,177,.40), 0 12px 30px rgba(0,0,0,.08);
  }
  .cmOB-btn:active{ transform: translateY(1px); }

  .cmOB-secondary{
    background: rgba(255,255,255,.85);
    color: rgba(31,31,31,.75);
    border: 1px solid rgba(31,31,31,.15);
    box-shadow: 0 6px 16px rgba(0,0,0,.06);
    backdrop-filter: blur(6px);
  }
  .cmOB-secondary:hover{
    background: rgba(255,255,255,.95);
    color: rgba(31,31,31,.95);
    box-shadow: 0 10px 24px rgba(0,0,0,.10);
  }

  .cmOB-error{
    margin-top: 10px; display:none;
    color: rgba(0,0,0,.72);
    font-family: ui-sans-serif, system-ui, -apple-system, "Segoe UI", Roboto, Arial;
    font-size: 13px;
  }
  .cmOB-error.show{ display:block; }

  /* Micro rassurance */
  .cm-micro{
    margin-top:8px;
    text-align:center;
    font-family: ui-sans-serif, system-ui, -apple-system, "Segoe UI", Roboto, Arial;
    font-size:12.5px;
    color: rgba(31,31,31,.55);
    letter-spacing:.2px;
  }

  /* Animations douces */
  .cm-appear{ opacity:0; transform: translateY(12px); animation: cmFadeUp .8s ease forwards; }
  .cm-delay-1{ animation-delay: .10s; }
  .cm-delay-2{ animation-delay: .28s; }
  .cm-delay-3{ animation-delay: .46s; }
  @keyframes cmFadeUp{ to{ opacity:1; transform: translateY(0);} }

  @media (max-width:640px){
    .cmOB-row2{ grid-template-columns: 1fr; }
    .cmOB-bar{ width: 140px; }
  }
</style>

<div class="cmOB">
  <div class="cmOB-card">
    <div class="cmOB-top cm-appear cm-delay-1">
      <div class="cmOB-progress">
        <span>√âtape 1/3</span>
        <span class="cmOB-bar" aria-hidden="true"><i></i></span>
      </div>
      <button class="cmOB-btn cmOB-secondary" id="cmOB1Back" type="button">‚Üê Retour</button>
    </div>

    <h1 class="cm-appear cm-delay-2">On va le rendre √† votre image ‚ú®</h1>
    <p class="cmOB-lead cm-appear cm-delay-3">
      Dites-nous juste vos pr√©noms ‚Äî pour que le carnet vous parle <strong>comme un petit cocon</strong>,
      et que tout soit plus doux √† suivre jusqu‚Äôau jour J.
    </p>

    <div class="cmOB-row2 cm-appear cm-delay-3">
      <div>
        <label>Pr√©nom 1</label>
        <input id="cmOB1P1" placeholder="Ex : Sarah" autocomplete="given-name" />
      </div>
      <div>
        <label>Pr√©nom 2</label>
        <input id="cmOB1P2" placeholder="Ex : Adam" autocomplete="given-name" />
      </div>
    </div>

    <div class="cmOB-actions cm-appear cm-delay-3">
      <button class="cmOB-btn cmOB-primary" id="cmOB1Next" type="button">Continuer</button>
    </div>

    <div class="cm-micro cm-appear cm-delay-3">
      2 minutes ¬∑ aucun compte ¬∑ juste votre espace
    </div>

    <div class="cmOB-error" id="cmOB1Err">üòï Mets vos deux pr√©noms pour continuer.</div>
  </div>
</div>

<script>
(function(){
  const prevUrl = "/";
  const nextUrl = "/onboarding-2";

  const p1 = document.getElementById("cmOB1P1");
  const p2 = document.getElementById("cmOB1P2");
  const err = document.getElementById("cmOB1Err");

  const data = safeGet();
  if(!data.weddingDate) { window.location.href = prevUrl; return; }

  if(data.prenom1) p1.value = data.prenom1;
  if(data.prenom2) p2.value = data.prenom2;

  document.getElementById("cmOB1Back").addEventListener("click", ()=> window.location.href = prevUrl);

  function submit(){
    const v1 = (p1.value||"").trim();
    const v2 = (p2.value||"").trim();
    if(!v1 || !v2){ err.classList.add("show"); return; }
    err.classList.remove("show");
    data.prenom1 = v1; data.prenom2 = v2;
    safeSet(data);
    window.location.href = nextUrl;
  }

  document.getElementById("cmOB1Next").addEventListener("click", submit);

  [p1,p2].forEach(el=>{
    el.addEventListener("keydown",(e)=>{ if(e.key==="Enter") submit(); });
  });

  function safeGet(){ try{ return JSON.parse(localStorage.getItem("cm_onboarding")||"{}"); }catch(e){ return {}; } }
  function safeSet(o){ try{ localStorage.setItem("cm_onboarding", JSON.stringify(o)); }catch(e){} }
})();
</script>
