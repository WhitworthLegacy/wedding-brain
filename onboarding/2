<style>
@import url('https://fonts.googleapis.com/css2?family=Libre+Baskerville:wght@400;700&display=swap');

.cmOB{
  width:100vw;
  margin-left:calc(50% - 50vw);
  min-height: 100vh;
  min-height: 100svh;
  min-height: 100dvh;
  display:grid;
  place-items:center;
  padding:28px 18px;
  background:
    radial-gradient(1200px 600px at 20% 0%, rgba(234,212,216,.55), transparent 60%),
    radial-gradient(900px 520px at 90% 10%, rgba(201,204,214,.55), transparent 55%),
    #FAF9F7;
  font-family:"Libre Baskerville", Georgia, serif;
}

.cmOB-card{
  width:min(720px,100%);
  background:rgba(250,249,247,.9);
  border-radius:26px;
  padding:26px;
  box-shadow:0 18px 40px rgba(0,0,0,.08);
}

.cmOB-top{
  display:flex;
  justify-content:space-between;
  align-items:center;
  margin-bottom:14px;
  font-family:system-ui;
  font-size:13px;
  color:#5d5d5d;
}

  .cmOB-btn{
    display:inline-flex; align-items:center; justify-content:center; gap: 10px;
    padding: 14px 18px; border-radius: 999px;
    border: 1px solid rgba(31,31,31,.10);
    cursor:pointer; transition: transform .12s ease, opacity .12s ease;
    font-weight: 650; letter-spacing:.2px; user-select:none; white-space:nowrap;
    font-family: ui-sans-serif, system-ui, -apple-system, "Segoe UI", Roboto, Arial;
  }
  .cmOB-primary{ background: linear-gradient(180deg, rgba(216,167,177,.98), rgba(216,167,177,.88)); box-shadow: var(--shadow-soft); }
  .cmOB-secondary{
    background: rgba(255,255,255,.85);
    color: rgba(31,31,31,.75);
    border: 1px solid rgba(31,31,31,.15);
    box-shadow: 0 6px 16px rgba(0,0,0,.06);
    backdrop-filter: blur(6px);
  }

  .cmOB-secondary:hover{
    background: rgba(255,255,255,.95);
    color: rgba(31,31,31,.95);
    box-shadow: 0 10px 24px rgba(0,0,0,.10);
  }
  
  .cmOB-secondary:active{
    transform: translateY(1px);
  }

  
  .cmOB-btn:active{ transform: translateY(1px); }


.cmOB-error{
  margin-top:12px;
  color:#8a2c2c;
  font-family:system-ui;
  font-size:13px;
  display:none;
}
.cmOB-error.show{display:block;}
</style>

<div class="cmOB">
  <div class="cmOB-card">
    <div class="cmOB-top">
      <span>Étape 2 / 3</span>
      <button class="cmOB-btn cmOB-secondary" id="cmOB1Back" type="button">← Retour</button>
    </div>

    <h1>Où on vous envoie l’accès ?</h1>
    <p style="font-family:system-ui;color:#5d5d5d;">
      Juste pour votre lien privé. Aucun spam.
    </p>

    <input id="email" type="email" placeholder="vous@email.com"
      style="width:100%;padding:14px;border-radius:14px;border:1px solid #ccc;margin-top:10px;font-family:system-ui;" />

    <div style="margin-top:16px;">
      <button class="cmOB-btn cmOB-primary" id="next">Continuer</button>
    </div>

    <div class="cmOB-error" id="err">Email invalide.</div>
  </div>
</div>

<script>
(function(){
  const data = JSON.parse(localStorage.getItem("cm_onboarding") || "{}");

  document.getElementById("back").onclick = ()=>location.href="/onboarding-1";

  document.getElementById("next").onclick = ()=>{
    const v = document.getElementById("email").value.trim();
    if(!/^[^\\s@]+@[^\\s@]+\\.[^\\s@]+$/.test(v)){
      document.getElementById("err").classList.add("show");
      return;
    }
    data.email = v;
    localStorage.setItem("cm_onboarding", JSON.stringify(data));
    location.href="/onboarding-3";
  };
})();
</script>
